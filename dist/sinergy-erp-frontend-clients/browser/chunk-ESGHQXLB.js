import{e as w,g as E,j as V,m as k,n as D,o as G,s as N}from"./chunk-7TNFDLAZ.js";import{m as M}from"./chunk-UZLFZEBK.js";import{Ab as c,Cb as x,Db as I,Eb as v,Fb as g,Gb as l,Hb as r,Pb as S,Ta as i,Tb as P,Vb as s,aa as _,ba as b,dc as O,ec as u,gb as h,hc as d,ia as f,ic as y,jc as p,ta as C,vb as m,yb as a}from"./chunk-NOG5ANO3.js";function T(t,o){t&1&&(l(0,"span",9),d(1,"*"),r())}function B(t,o){if(t&1&&(l(0,"label",1),d(1),a(2,T,2,0,"span",9),r()),t&2){let n=s();m("for",n.selectId),i(),p(" ",n.label??n.config.label),i(),c(n.showError?2:-1)}}function Z(t,o){t&1&&(l(0,"option",4),d(1,"Cargando..."),r()),t&2&&g("ngValue",null)}function z(t,o){if(t&1&&(l(0,"option",5),d(1),r()),t&2){let n=s();g("ngValue",null),i(),y(n.config.all_message?n.config.all_message:"All")}}function F(t,o){if(t&1&&(l(0,"option",6),d(1),r()),t&2){let n=s();g("ngValue",null),i(),p(" ",n.config.placeholder," ")}}function H(t,o){if(t&1&&(l(0,"option",10),d(1),r()),t&2){let n=o.$implicit,e=s(2);g("ngValue",n[e.config.value])("disabled",n[e.config.disabled_option]),i(),p(" ",n[e.config.option]," ")}}function J(t,o){if(t&1&&I(0,H,2,3,"option",10,x),t&2){let n=s();v(n.config.data)}}function R(t,o){if(t&1){let n=S();l(0,"i",11),P("click",function(){_(n);let j=s();return b(j.getRefresh())}),r()}}function A(t,o){if(t&1&&(l(0,"p",8),d(1),r()),t&2){let n=s();g("id",n.errorId),i(),p(" ",n.errorMessage," ")}}var W=class t{config={placeholder:"Select an option",value_default:null,all:!0};set disable(o){o?this.select.disable({emitEvent:!1}):this.select.enable({emitEvent:!1}),this.disabled=o}changeOption=new f;refresh=new f;has_error=!1;label;select=new E(null);disabled=!1;subscription;static idCounter=0;selectId;errorId;constructor(){}ngOnInit(){t.idCounter++,this.selectId=`select-${t.idCounter}`,this.errorId=`error-${t.idCounter}`,this.config.form_control?this.subscription=this.config.form_control.valueChanges.subscribe(o=>{let n=this.config.data.find(e=>e[this.config.value]===o);this.changeOption.emit({value:o,name:this.config.name_select,data:n})}):this.subscription=this.select.valueChanges.subscribe(o=>{let n=this.config.data.find(e=>e[this.config.value]===o);this.changeOption.emit({value:o,name:this.config.name_select,data:n})})}ngOnChanges(o){this.config.form_control?this.select.setValue(this.config.form_control.value,{onlySelf:!0,emitEvent:!1}):this.select.setValue(this.config.value_default,{onlySelf:!0,emitEvent:!1})}ngOnDestroy(){this.subscription.unsubscribe()}getRefresh(){this.config.error=!1,this.refresh.emit()}get showError(){return this.has_error||this.config?.form_control?.invalid&&this.config?.form_control?.touched}get errorMessage(){return!this.showError||!this.config?.form_control?.errors?"":this.config.form_control.errors.required?"Este campo es obligatorio":"Este campo tiene un error"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=h({type:t,selectors:[["app-select"]],inputs:{config:"config",disable:"disable",has_error:"has_error",label:"label"},outputs:{changeOption:"changeOption",refresh:"refresh"},features:[C],decls:10,vars:18,consts:[[1,"container"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"select_container"],[1,"filter__control",3,"id","formControl","disabled"],["disabled","","selected","",3,"ngValue"],[3,"ngValue"],["disabled","","selected","","hidden","",3,"ngValue"],[1,"ti","ti-refresh"],["role","alert",1,"mt-1","text-sm","text-red-600",3,"id"],[1,"text-red-500"],[3,"ngValue","disabled"],[1,"ti","ti-refresh",3,"click"]],template:function(n,e){n&1&&(l(0,"div",0),a(1,B,3,3,"label",1),l(2,"div",2)(3,"select",3),a(4,Z,2,1,"option",4),a(5,z,2,2,"option",5),a(6,F,2,2,"option",6),a(7,J,2,0),r(),a(8,R,1,0,"i",7),r(),a(9,A,2,2,"p",8),r()),n&2&&(u("error",e.showError),i(),c(e.config.label||e.label?1:-1),i(2),O("min-height",e.config.height?e.config.height+"px":"100%"),u("loading",e.config.loading),g("id",e.selectId)("formControl",e.config.form_control?e.config.form_control:e.select)("disabled",e.config.loading),m("aria-describedby",e.showError?e.errorId:null)("aria-invalid",e.showError),i(),c(e.config.loading?4:-1),i(),c(!e.config.loading&&e.config.all?5:-1),i(),c(!e.config.loading&&!e.config.all?6:-1),i(),c(e.config.loading?-1:7),i(),c(e.config.error?8:-1),i(),c(e.showError&&e.errorMessage?9:-1))},dependencies:[N,D,G,k,w,V,M],styles:[".btn[_ngcontent-%COMP%]{display:flex;width:100%;column-gap:10px;align-items:center;justify-content:center;padding:0 24px;border-radius:4px;font-weight:500;cursor:pointer;border:none;font-size:14px;height:37px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:14px}.select_container[_ngcontent-%COMP%]{flex:1;border-radius:3px;position:relative;display:flex;column-gap:8px;align-items:center}.select_container[_ngcontent-%COMP%]   .fi-rr-refresh[_ngcontent-%COMP%]{cursor:pointer}.select_container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:37px;padding:8px 25px 8px 8px;border:none;background-color:#fff;color:#131523;border:1px solid #d1d5db;border-radius:8px;font-weight:400;font-size:14px;transition:.2s ease all;-moz-appearance:none;-webkit-appearance:none;appearance:none;outline:none;cursor:pointer;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJpY29uIGljb24tdGFibGVyIGljb24tdGFibGVyLWNoZXZyb24tZG93biIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PHBvbHlsaW5lIHBvaW50cz0iNiA5IDEyIDE1IDE4IDkiPjwvcG9seWxpbmU+PC9zdmc+);background-repeat:no-repeat;background-position:right .7em top 50%,0 0;background-size:20px auto,100%;flex:1}.select_container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.select_container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.select_container[_ngcontent-%COMP%]   select.loading[_ngcontent-%COMP%]{color:#9ca3af;cursor:wait}.select_container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background-color:#f9fafb;cursor:wait}.select_container[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{border-color:#d2d4de;background-color:#e6e9f4;color:#7e84a3;cursor:not-allowed}.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid red}"]})};export{W as a};
