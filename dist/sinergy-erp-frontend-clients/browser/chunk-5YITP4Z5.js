import{u as K}from"./chunk-MQV4I3IR.js";import{c as j,d as L,e as A,f as G,g as U,k as q,m as J}from"./chunk-66A2AKCP.js";import{$ as O,$b as F,Ab as i,Bb as c,Cb as l,Db as d,Hb as C,Ib as u,Jb as z,Kb as I,Na as D,Ob as b,Pa as T,Qa as o,Qb as r,_ as P,_b as W,bc as N,cc as s,db as x,dc as B,ec as m,ga as M,gc as R,jb as g,mc as V,ra as E,tb as v,tc as $,vb as S,vc as H}from"./chunk-56XCPM73.js";import{a as f,b as w}from"./chunk-7CGTOI24.js";function tt(e,n){if(e&1&&d(0,"i"),e&2){let t=r();N(t.icon?t.icon:"fi-rr-search")}}function nt(e,n){if(e&1&&d(0,"img",2),e&2){let t=r();i("src",t.image,D)}}var y=class e{image="";icon="";message="Results not found";sub_message="";background="transparent";params={icon_size:void 0,row_gap:void 0,wrapper_icon_circle:!1,width:void 0,height:void 0};constructor(){}ngOnInit(){this.params.icon_size===void 0?(this.params.icon_size=22,this.setIconPropertySize(this.params.icon_size)):this.setIconPropertySize(this.params.icon_size),this.params.row_gap===void 0?(this.params.row_gap=8,this.setGapProperty(this.params.row_gap)):this.setGapProperty(this.params.row_gap),this.params.width===void 0?(this.params.width=46,this.setWidthProperty(this.params.width)):this.setWidthProperty(this.params.width),this.params.height===void 0?(this.params.height=46,this.setHeightProperty(this.params.height)):this.setHeightProperty(this.params.height)}setWidthProperty(n){document.documentElement.style.setProperty("--width",`${n}px`)}setHeightProperty(n){document.documentElement.style.setProperty("--height",`${n}px`)}setGapProperty(n){document.documentElement.style.setProperty("--row_gap",`${n}px`)}setIconPropertySize(n){document.documentElement.style.setProperty("--icon_size",`${n}px`)}setStyles(){return{background:this.background}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-empty-stage"]],inputs:{image:"image",icon:"icon",message:"message",sub_message:"sub_message",background:"background",params:"params"},decls:10,vars:7,consts:[[1,"empty_stage",3,"ngStyle"],[3,"class"],["alt","",3,"src"]],template:function(t,a){t&1&&(C(0),c(1,"div",0)(2,"div")(3,"div"),v(4,tt,1,2,"i",1),v(5,nt,1,1,"img",2),l(),c(6,"p"),s(7),c(8,"span"),s(9),l()()()(),u()),t&2&&(o(),i("ngStyle",a.setStyles()),o(2),F("circle_icon",a.params.wrapper_icon_circle),o(),S(a.image?-1:4),o(),S(a.image?5:-1),o(2),m(" ",a.message," "),o(2),B(a.sub_message?a.sub_message:""))},dependencies:[G],styles:[".empty_stage[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background:#fff;height:100%}.empty_stage[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;row-gap:var(--row_gap);padding:.667rem}.empty_stage[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;justify-content:center;align-items:center;height:var(--height);width:var(--width);border-radius:50%}.empty_stage[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child > img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.empty_stage[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child > i[_ngcontent-%COMP%]{color:#667;font-size:var(--icon_size)}.empty_stage[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:700;display:flex;flex-direction:column;gap:4px;font-size:1em;line-height:18px;color:#667}.empty_stage[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.circle_icon[_ngcontent-%COMP%]{background:#eee}"]})};var et=e=>({$implicit:e});function at(e,n){e&1&&(c(0,"div",4),d(1,"app-spinner"),l())}function ot(e,n){if(e&1&&(c(0,"div",5),d(1,"app-empty-stage",6),l()),e&2){let t=r();o(),i("message",(t.config==null||t.config.emptyState==null?null:t.config.emptyState.title)||"No result found")("sub_message",(t.config==null||t.config.emptyState==null?null:t.config.emptyState.subtitle)||"")("params",t.emptyStateParams)}}function it(e,n){if(e&1&&(c(0,"span",15),s(1),l()),e&2){let t=r().$implicit,a=r(2);o(),m(" ",a.getSortIndicator(t)," ")}}function rt(e,n){if(e&1&&(c(0,"th",12)(1,"span",13),s(2),g(3,it,2,1,"span",14),l()()),e&2){let t=n.$implicit,a=r(2);W("width",t.width?t.width+"px":"auto"),i("ngClass",a.getSortIndicatorClass(t)),o(2),m(" ",t.name," "),o(),i("ngIf",a.isColumnSorted(t))}}function ct(e,n){e&1&&z(0)}function lt(e,n){if(e&1&&(C(0),g(1,ct,1,0,"ng-container",18),u()),e&2){let t=r().$implicit,a=r(2);o(),i("ngTemplateOutlet",a.rowTemplate)("ngTemplateOutletContext",V(2,et,t))}}function st(e,n){if(e&1&&(c(0,"td"),s(1),l()),e&2){let t=n.$implicit,a=r(2).$implicit;o(),m(" ",a[t.prop]," ")}}function pt(e,n){if(e&1&&(C(0),g(1,st,2,1,"td",19),u()),e&2){let t=r(3);o(),i("ngForOf",t.config==null?null:t.config.columns)("ngForTrackBy",t.trackByIndex)}}function gt(e,n){if(e&1){let t=I();c(0,"tr",16),b("click",function(){let p=P(t).$implicit,_=r(2);return O(_.onRowClick({data:p}))}),g(1,lt,2,4,"ng-container",17)(2,pt,2,2,"ng-container",17),l()}if(e&2){let t=r(2);o(),i("ngIf",t.rowTemplate),o(),i("ngIf",!t.rowTemplate)}}function dt(e,n){if(e&1){let t=I();c(0,"div",20)(1,"div",21)(2,"span"),s(3),$(4,"number"),l()(),c(5,"div",22)(6,"button",23),b("click",function(){P(t);let p=r(2);return O(p.onPrevPage())}),s(7," \u2190 Previous "),l(),c(8,"button",23),b("click",function(){P(t);let p=r(2);return O(p.onNextPage())}),s(9," Next \u2192 "),l()()()}if(e&2){let t=r(2);o(3),R(" Page ",t.config==null?null:t.config.page," of ",H(4,5,(t.config==null?null:t.config.totalResults)/(t.config==null?null:t.config.limit),"1.0-0")," (",t.config==null?null:t.config.totalResults," total) "),o(3),i("disabled",(t.config==null?null:t.config.page)===1),o(2),i("disabled",!(t.config!=null&&t.config.hasNext))}}function mt(e,n){if(e&1&&(c(0,"div",7)(1,"table",8)(2,"thead")(3,"tr"),g(4,rt,4,5,"th",9),l()(),c(5,"tbody"),g(6,gt,3,2,"tr",10),l()(),g(7,dt,10,8,"div",11),l()),e&2){let t=r();o(4),i("ngForOf",t.config==null?null:t.config.columns)("ngForTrackBy",t.trackByIndex),o(2),i("ngForOf",t.config==null?null:t.config.rows)("ngForTrackBy",t.trackByIndex),o(),i("ngIf",t.config==null?null:t.config.externalPaging)}}var Q=class e{config;rowTemplate;pageChange=new M;sortChange=new M;rowClick=new M;isMobile=!1;currentSortColumn=null;currentSortDirection="";sortCycleState=new Map;lastEmittedPage=0;lastEmittedLimit=0;defaultConfig={externalPaging:!0,externalSorting:!0,columnMode:"force",reorderable:!1,loading:!1,emptyState:{title:"No result found",subtitle:""}};emptyStateParams={icon_size:28,row_gap:12,width:52,height:52,wrapper_icon_circle:!0};constructor(){this.checkMobileView()}ngOnInit(){this.mergeConfig(),this.checkMobileView()}ngOnChanges(n){n.config&&this.mergeConfig()}mergeConfig(){this.config?this.config=f(f({},this.defaultConfig),this.config):this.config=this.defaultConfig}onResize(){this.checkMobileView()}checkMobileView(){this.isMobile=window.innerWidth<=768,this.isMobile?this.emptyStateParams=w(f({},this.emptyStateParams),{width:40,height:40,icon_size:20}):this.emptyStateParams=w(f({},this.emptyStateParams),{width:52,height:52,icon_size:28})}onPageChange(n){let t=n.pageIndex+1,a=n.pageSize;if(t===this.lastEmittedPage&&a===this.lastEmittedLimit)return;this.lastEmittedPage=t,this.lastEmittedLimit=a;let p={page:t,limit:a};this.pageChange.emit(p)}onSortChange(n){if(!n.column)return;let t=n.column,a=t.prop,_=((this.sortCycleState.get(a)||0)+1)%3;this.sortCycleState.set(a,_),this.sortCycleState.forEach((_t,k)=>{k!==a&&this.sortCycleState.set(k,0)});let h="";_===1?h="asc":_===2&&(h="desc"),this.currentSortColumn=t,this.currentSortDirection=h;let X={column:{name:t.name,prop:t.prop,width:t.width,sortable:t.sortable,canAutoResize:t.canAutoResize},direction:h};this.sortChange.emit(X)}onRowClick(n){n.target&&this.isInteractiveElement(n.target)||this.rowClick.emit(n.data)}isInteractiveElement(n){return!!(["button","a","input","select","textarea"].includes(n.tagName.toLowerCase())||n.closest('button, a, [role="button"]'))}getSortIndicator(n){return this.currentSortColumn?.prop!==n.prop?"":this.currentSortDirection==="asc"?"\u2191":this.currentSortDirection==="desc"?"\u2193":""}isColumnSorted(n){return this.currentSortColumn?.prop===n.prop&&this.currentSortDirection!==""}getSortIndicatorClass(n){return this.isColumnSorted(n)?this.currentSortDirection==="asc"?this.config?.cssClasses?.sortAscending||"sort-asc":this.config?.cssClasses?.sortDescending||"sort-desc":""}trackByIndex(n){return n}onNextPage(){this.config?.hasNext&&this.onPageChange({pageIndex:this.config.page||1,pageSize:this.config.limit})}onPrevPage(){(this.config?.page||1)>1&&this.onPageChange({pageIndex:(this.config.page||1)-2,pageSize:this.config.limit})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-datatable-wrapper"]],hostBindings:function(t,a){t&1&&b("resize",function(){return a.onResize()},T)},inputs:{config:"config",rowTemplate:"rowTemplate"},outputs:{pageChange:"pageChange",sortChange:"sortChange",rowClick:"rowClick"},features:[E],decls:4,vars:3,consts:[[1,"datatable-wrapper"],["class","loading-overlay",4,"ngIf"],["class","empty-state-container",4,"ngIf"],["class","datatable-container",4,"ngIf"],[1,"loading-overlay"],[1,"empty-state-container"],[3,"message","sub_message","params"],[1,"datatable-container"],[1,"datatable-table"],[3,"width","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","datatable-row",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-controls",4,"ngIf"],[3,"ngClass"],[1,"column-header"],["class","sort-indicator",4,"ngIf"],[1,"sort-indicator"],[1,"datatable-row",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"pagination-controls"],[1,"pagination-info"],[1,"pagination-buttons"],[1,"pagination-btn",3,"click","disabled"]],template:function(t,a){t&1&&(c(0,"div",0),g(1,at,2,0,"div",1)(2,ot,2,3,"div",2)(3,mt,8,5,"div",3),l()),t&2&&(o(),i("ngIf",a.config==null?null:a.config.loading),o(),i("ngIf",!(a.config!=null&&a.config.loading)&&(!(a.config!=null&&a.config.rows)||(a.config==null?null:a.config.rows.length)===0)),o(),i("ngIf",!(a.config!=null&&a.config.loading)&&(a.config==null?null:a.config.rows)&&(a.config==null?null:a.config.rows.length)>0))},dependencies:[J,j,L,A,U,K,y,q],styles:[".datatable-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex-direction:column}.datatable-wrapper[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background-color:#ffffffb3;z-index:10;border-radius:4px}.datatable-wrapper[_ngcontent-%COMP%]   .empty-state-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px;width:100%}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]{flex:1;overflow-x:auto;border-radius:8px;border:1px solid #e5e7eb;background-color:#fff}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb;border-bottom:2px solid #e5e7eb}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;text-align:left;font-weight:600;color:#374151;white-space:nowrap;-webkit-user-select:none;user-select:none;background-color:#f9fafb}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;cursor:pointer}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]:hover{color:#1f2937}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#6366f1}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .column-header.sort-asc[_ngcontent-%COMP%], .datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .column-header.sort-desc[_ngcontent-%COMP%]{color:#6366f1}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;transition:background-color .15s ease}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb;cursor:pointer}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important;color:#4b5563;vertical-align:middle;background-color:#fff}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:center}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background-color:#f9fafb;border-top:1px solid #e5e7eb;border-radius:0 0 8px 8px;gap:16px}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;margin:0;padding:0;border:none;background:none}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px;font-weight:500;color:#fff;background-color:#6366f1;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4f46e5}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{background-color:#d1d5db;cursor:not-allowed}@media(max-width:768px){.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]{border-radius:6px}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]{font-size:13px}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;font-size:12px}.datatable-wrapper[_ngcontent-%COMP%]   .datatable-container[_ngcontent-%COMP%]   .datatable-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px!important;font-size:12px}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{padding:10px 12px;flex-direction:column;align-items:flex-start;gap:10px}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:12px}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]{width:100%}.datatable-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-buttons[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{flex:1;padding:8px 10px;font-size:11px}}  .datatable-row td{padding:10px!important}"]})};export{Q as a};
