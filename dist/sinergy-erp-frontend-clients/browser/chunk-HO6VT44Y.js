import{a as h}from"./chunk-ESGHQXLB.js";import{s as g}from"./chunk-7TNFDLAZ.js";import{A as P}from"./chunk-5MRBIJ7N.js";import{m as u,t as S}from"./chunk-UZLFZEBK.js";import{Fb as d,Ib as m,S as v,Tb as I,W as y,ab as c,gb as p,i as a,ia as s,ib as b,na as r,y as i}from"./chunk-NOG5ANO3.js";var l=class n{constructor(o){this.http=o}apiUrl=`${P.api}/tenant/catalogs`;getAllCatalogs(){return this.http.get(this.apiUrl).pipe(i(()=>a([])))}getCatalogsByType(o){return this.http.get(`${this.apiUrl}?type=${o}`).pipe(i(()=>a([])))}getCatalogByType(o){return this.http.get(`${this.apiUrl}/by-type?type=${o}`).pipe(i(()=>a([])))}searchCatalogs(o,e){return this.http.get(`${this.apiUrl}/search?type=${o}&q=${e}`).pipe(i(()=>a([])))}getPhoneCountries(){return this.http.get(`${this.apiUrl}/phone-countries`).pipe(i(()=>a([])))}getPhoneCodes(){return this.getCatalogByType("phone_code")}static \u0275fac=function(e){return new(e||n)(y(S))};static \u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})};var M=class n{constructor(o){this.catalogService=o}control=null;countrySelected=new s;countries=r([]);loading=r(!1);ngOnInit(){this.loadCountries()}selectConfig(){return{placeholder:"Selecciona un pa\xEDs",data:this.countries(),value:"code",option:"displayName",form_control:this.control,loading:this.loading()}}loadCountries(){this.loading.set(!0),this.catalogService.getPhoneCountries().subscribe({next:o=>{this.countries.set(o.map(e=>({code:e.code,name:e.name,phoneCode:e.value||"",displayName:e.name}))),this.loading.set(!1)},error:()=>{this.loading.set(!1),this.countries.set(this.getDefaultCountries())}})}getDefaultCountries(){return[{code:"US",name:"United States",phoneCode:"+1"},{code:"MX",name:"Mexico",phoneCode:"+52"},{code:"CA",name:"Canada",phoneCode:"+1"},{code:"GB",name:"United Kingdom",phoneCode:"+44"},{code:"ES",name:"Spain",phoneCode:"+34"},{code:"FR",name:"France",phoneCode:"+33"},{code:"DE",name:"Germany",phoneCode:"+49"},{code:"IT",name:"Italy",phoneCode:"+39"},{code:"BR",name:"Brazil",phoneCode:"+55"},{code:"AR",name:"Argentina",phoneCode:"+54"},{code:"CO",name:"Colombia",phoneCode:"+57"},{code:"CL",name:"Chile",phoneCode:"+56"},{code:"PE",name:"Peru",phoneCode:"+51"},{code:"JP",name:"Japan",phoneCode:"+81"},{code:"CN",name:"China",phoneCode:"+86"},{code:"IN",name:"India",phoneCode:"+91"},{code:"AU",name:"Australia",phoneCode:"+61"}]}static \u0275fac=function(e){return new(e||n)(c(l))};static \u0275cmp=p({type:n,selectors:[["app-phone-country-select"]],inputs:{control:"control"},outputs:{countrySelected:"countrySelected"},decls:1,vars:3,consts:[[3,"config","label","has_error"]],template:function(e,t){e&1&&m(0,"app-select",0),e&2&&d("config",t.selectConfig())("label","Pa\xEDs")("has_error",(t.control==null?null:t.control.invalid)&&(t.control==null?null:t.control.touched))},dependencies:[u,g,h],encapsulation:2})};var O=class n{constructor(o){this.catalogService=o}control=null;codeSelected=new s;phoneCodes=r([]);loading=r(!1);ngOnInit(){this.loadPhoneCodes()}selectConfig(){return{placeholder:"Selecciona un c\xF3digo de tel\xE9fono",data:this.phoneCodes(),value:"code",option:"name",form_control:this.control,loading:this.loading()}}loadPhoneCodes(){this.loading.set(!0),this.catalogService.getPhoneCountries().subscribe({next:o=>{this.phoneCodes.set(o.map(e=>({code:e.value||e.code,name:`${e.name} (${e.value||e.code})`}))),this.loading.set(!1)},error:()=>{this.loading.set(!1),this.phoneCodes.set(this.getDefaultPhoneCodes())}})}getDefaultPhoneCodes(){return[{code:"+1",name:"United States (+1)"},{code:"+52",name:"Mexico (+52)"},{code:"+1",name:"Canada (+1)"},{code:"+44",name:"United Kingdom (+44)"},{code:"+34",name:"Spain (+34)"},{code:"+33",name:"France (+33)"},{code:"+49",name:"Germany (+49)"},{code:"+39",name:"Italy (+39)"},{code:"+55",name:"Brazil (+55)"},{code:"+54",name:"Argentina (+54)"},{code:"+57",name:"Colombia (+57)"},{code:"+56",name:"Chile (+56)"},{code:"+51",name:"Peru (+51)"},{code:"+81",name:"Japan (+81)"},{code:"+86",name:"China (+86)"},{code:"+91",name:"India (+91)"},{code:"+61",name:"Australia (+61)"}]}static \u0275fac=function(e){return new(e||n)(c(l))};static \u0275cmp=p({type:n,selectors:[["app-phone-code-select"]],inputs:{control:"control"},outputs:{codeSelected:"codeSelected"},decls:1,vars:3,consts:[[3,"config","label","has_error"]],template:function(e,t){e&1&&m(0,"app-select",0),e&2&&d("config",t.selectConfig())("label","C\xF3digo de Tel\xE9fono")("has_error",(t.control==null?null:t.control.invalid)&&(t.control==null?null:t.control.touched))},dependencies:[u,g,h],encapsulation:2})};var _=class n{onInput(o){let e=o.target,t=e.value.replace(/\D/g,"");t.length>10&&(t=t.slice(0,10)),e.value=t}onKeyPress(o){let e=o.key;/[0-9]/.test(e)||o.preventDefault()}static \u0275fac=function(e){return new(e||n)};static \u0275dir=b({type:n,selectors:[["","appPhoneDigits",""]],hostBindings:function(e,t){e&1&&I("input",function(C){return t.onInput(C)})("keypress",function(C){return t.onKeyPress(C)})}})};export{M as a,O as b,_ as c};
