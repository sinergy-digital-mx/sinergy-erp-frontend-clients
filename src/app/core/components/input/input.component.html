<div class="w-full p-1" [class]="showError ? 'text-red-600' : ''">
  @if (label) {
    <label [attr.for]="inputId" class="block text-sm font-medium text-gray-700 mb-1">
      {{ label }}
      @if (showError) {
        <span class="text-red-500">*</span>
      }
    </label>
  }

  @if (type == 'text' || type == 'number' || type == 'time' || type == 'date') {
    <input
      [id]="inputId"
      [type]="type"
      [placeholder]="placeholder"
      [formControl]="form_control"
      (input)="!form_control && onInputChange($event)"
      [attr.aria-describedby]="showError ? errorId : null"
      [attr.aria-invalid]="showError"
      class="w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2"
      [ngClass]="showError
        ? 'border-red-400 focus:ring-red-500 focus:border-red-500'
        : 'border-gray-300 focus:ring-indigo-500 focus:border-indigo-500'"
    />
  }

  @if (type == 'textarea') {
    <textarea
      [id]="inputId"
      rows="4"
      [placeholder]="placeholder"
      [formControl]="form_control"
      (input)="!form_control && onInputChange($event)"
      [attr.aria-describedby]="showError ? errorId : null"
      [attr.aria-invalid]="showError"
      class="w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2"
      [ngClass]="showError
        ? 'border-red-400 focus:ring-red-500 focus:border-red-500'
        : 'border-gray-300 focus:ring-indigo-500 focus:border-indigo-500'"
    ></textarea>
  }
  
  @if (showError && errorMessage) {
    <p [id]="errorId" class="mt-1 text-sm text-red-600" role="alert">
      {{ errorMessage }}
    </p>
  }
</div>
