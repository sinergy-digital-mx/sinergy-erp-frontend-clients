<div class="w-full">
  @if (label) {
    <label class="block text-sm font-medium text-gray-700 mb-1">
      {{ label }}
      @if (showError) {
        <span class="text-red-500">*</span>
      }
    </label>
  }

  <div class="relative">
    <input
      [type]="eye ? 'text' : 'password'"
      [formControl]="input"
      [placeholder]="placeholder"
      class="w-full rounded-lg border px-3 py-2 pr-10 text-sm focus:outline-none focus:ring-2"
      [ngClass]="showError
        ? 'border-red-400 focus:ring-red-500 focus:border-red-500'
        : 'border-gray-300 focus:ring-indigo-500 focus:border-indigo-500'"
    />

    <button
    type="button"
    class="absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 hover:text-gray-700"
    (click)="eye = !eye"
    [attr.aria-label]="eye ? 'Ocultar contraseña' : 'Mostrar contraseña'"
  >
    <lucide-icon
      [img]="eye ? EyeIcon : EyeOffIcon"
      class="h-5 w-5"
    ></lucide-icon>
  </button>
  </div>

  @if (showError) {
    <p class="mt-1 text-xs text-red-600">Revisa este campo.</p>
  }
</div>
