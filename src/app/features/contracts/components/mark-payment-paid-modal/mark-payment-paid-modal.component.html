<div class="dialog-container">
  <div class="dialog-header">
    <h2 class="dialog-title">Marcar Pago #{{ data.payment.payment_number }} como Pagado</h2>
    <button (click)="close()" class="close-button">
      <lucide-icon [img]="X" [size]="20"></lucide-icon>
    </button>
  </div>

  <div class="dialog-content" [formGroup]="form">
    <div class="mb-3 p-2 bg-blue-50 rounded-lg border border-blue-200">
      <p class="text-sm text-blue-900">
        <span class="font-semibold">Monto:</span> {{ data.payment.amount | currency:data.currency }}
      </p>
      <p class="text-sm text-blue-900">
        <span class="font-semibold">Vencimiento:</span> {{ data.payment.due_date | localDate:'mediumDate' }}
      </p>
    </div>

    <div class="space-y-3">
      <app-input
        label="Fecha de Pago"
        [form_control]="form.controls['paid_date']">
      </app-input>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Método de Pago</label>
        <app-select [config]="paymentMethodSelectConfig"></app-select>
      </div>

      <app-input
        label="Número de Referencia (Opcional)"
        [form_control]="form.controls['reference_number']">
      </app-input>
    </div>
  </div>

  <div class="dialog-footer">
    <app-button
      text="Cancelar"
      custom_class="btn_secondary"
      (clicked)="close()">
    </app-button>
    <app-button
      text="Confirmar Pago"
      custom_class="btn_primary"
      [loading]="saving()"
      (clicked)="save()">
    </app-button>
  </div>
</div>

